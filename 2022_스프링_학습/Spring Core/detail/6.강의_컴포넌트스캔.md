# ì»´í¬ë„ŒíŠ¸ ìŠ¤ìº”

## ì»´í¬ë„ŒíŠ¸ ìŠ¤ìº”ê³¼ ì˜ì¡´ê´€ê³„ ìë™ ì£¼ì… ì‹œì‘í•˜ê¸°

- ì§€ê¸ˆê¹Œì§€ ìŠ¤í”„ë§ ë¹ˆì„ ë“±ë¡í•  ë•ŒëŠ” ìë°” ì½”ë“œì˜ @Beanì´ë‚˜ XMLì˜ <bean> ë“±ì„ í†µí•´ì„œ ì„¤ì • ì •ë³´ì— ì§ì ‘ ë“±ë¡í•  ìŠ¤í”„ë§ ë¹ˆì„ ë‚˜ì—´í–ˆë‹¤.
- ì˜ˆì œì—ì„œëŠ” ëª‡ê°œê°€ ì•ˆë˜ì—ˆì§€ë§Œ, ì´ë ‡ê²Œ ë“±ë¡í•´ì•¼ í•  ìŠ¤í”„ë§ ë¹ˆì´ ìˆ˜ì‹­, ìˆ˜ë°±ê°œê°€ ë˜ë©´ ì¼ì¼ì´ ë“±ë¡í•˜ê¸° ê·€ì°®ê³ , ì„¤ì • ì •ë³´ë„ ì»¤ì§€ê³ , ëˆ„ë½í•˜ëŠ” ë¬¸ì œë„ ë°œìƒí•œë‹¤.
- ê·¸ë˜ì„œ ìŠ¤í”„ë§ì€ ì„¤ì • ì •ë³´ê°€ ì—†ì–´ë„ ìë™ìœ¼ë¡œ ìŠ¤í”„ë§ ë¹ˆì„ ë“±ë¡í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ ìŠ¤ìº”ì´ë¼ëŠ” ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤.
- ë˜ ì˜ì¡´ê´€ê³„ë„ ìë™ìœ¼ë¡œ ì£¼ì…í•˜ëŠ” `@Autowired` ë¥¼ ì œê³µí•œë‹¤.

```java
package com.smalldogg.springcoreinflearn;

import org.springframework.context.annotation.ComponentScan;
import org.springframework.context.annotation.Configuration;
import org.springframework.context.annotation.FilterType;

@Configuration
@ComponentScan(
    excludeFilters = @ComponentScan.Filter(type = FilterType.ANNOTATION, classes = Configuration.class)
)
public class AutoAppConfig {

}
```

ì»´í¬ë„ŒíŠ¸ ìŠ¤ìº”ì„ ì‚¬ìš©í•˜ë ¤ë©´ ë¨¼ì € `@ComponentScan`ì„ ì„¤ì • ì •ë³´ì— ë¶™ì—¬ì£¼ë©´ ëœë‹¤.

ê¸°ì¡´ì˜ Appconfigì™€ëŠ” ë‹¤ë¥´ê²Œ @Beanìœ¼ë¡œ ë“±ë¡í•œ í´ë˜ìŠ¤ê°€ í•˜ë‚˜ë„ ì—†ë‹¤!

> ğŸ’¡ ì»´í¬ë„ŒíŠ¸ ìŠ¤ìº”ì„ ì‚¬ìš©í•˜ë©´ `@Configuration` ì• ë„ˆí…Œì´ì…˜ì´ ë¶™ì€ ì„¤ì • ì •ë³´ë„ ìë™ìœ¼ë¡œ ë“±ë¡ë˜ê¸° ë•Œë¬¸ì—, ì´ë²ˆ ì˜ˆì œì—ì„œ í…ŒìŠ¤íŠ¸í•˜ë ¤ëŠ” í™˜ê²½ì—ì„œ AppConfig ë„ ìë™ìœ¼ë¡œ ë“±ë¡ë˜ê²Œ ëœë‹¤. ê·¸ë˜ì„œ, ComponentScantì˜ excludFilters ì˜µì…˜ì„ ì‚¬ìš©í•´ì„œ, Configuration ì• ë„ˆí…Œì´ì…˜ì´ ë¶™ì€ í´ë˜ìŠ¤ëŠ” ì œì™¸í•˜ê³  ì»´í¬ë„ŒíŠ¸ë¥¼ ìŠ¤ìº”í•˜ë„ë¡ ì²˜ë¦¬í–ˆë‹¤. ë¬¼ë¡  ì¼ë°˜ì ì¸ ì‹¤ë¬´ í™˜ê²½ì—ì„œëŠ” ì´ë ‡ê²Œ ìˆ˜í–‰í•˜ì§€ ì•ŠìŒ.



ì»´í¬ë„ŒíŠ¸ ìŠ¤ìº”ì€ ì´ë¦„ ê·¸ëŒ€ë¡œ `@Component` ì• ë…¸í…Œì´ì…˜ì´ ë¶™ì€ í´ë˜ìŠ¤ë¥¼ ìŠ¤ìº”í•´ì„œ ìŠ¤í”„ë§ ë¹ˆìœ¼ë¡œ ë“±ë¡í•œë‹¤. @Componentë¥¼ ë¶™ì—¬ì£¼ì.

```java
@Component
public class MemberServiceImpl implements MemberService{

  private final MemberRepository memberRepository;

  @Autowired //ac.getBean(MemberRepository.class) ì™€ ìœ ì‚¬í•¨
  public MemberServiceImpl(MemberRepository memberRepository) {
    this.memberRepository = memberRepository;
  }

}
```

- ì´ì „ì— AppConfigì—ì„œëŠ” `@Bean`ìœ¼ë¡œ ì§ì ‘ ì„¤ì • ì •ë³´ë¥¼ ì‘ì„±í•˜ê³ , ì˜ì¡´ê´€ê³„ë„ ì§ì ‘ ëª…ì‹œí–ˆë‹¤. ì´ì œëŠ” ì´ëŸ° ì„¤ì • ì •ë³´ ìì²´ê°€ ì—†ê¸° ë•Œë¬¸ì—, ì˜ì¡´ê´€ê³„ ì£¼ì…ë„ ì´ í´ë˜ìŠ¤ ì•ˆì—ì„œ í•´ê²°í•´ì•¼ í•œë‹¤.
- `@Autowired`ëŠ” ì˜ì¡´ê´€ê³„ë¥¼ ìë™ìœ¼ë¡œ ì£¼ì…í•´ì¤€ë‹¤. ìì„¸í•œ ë£°ì€ ì¡°ê¸ˆ ë’¤ì— ì„¤ëª…í•˜ê² ë‹¤.
- `@Autowired`ë¥¼ ì‚¬ìš©í•˜ë©´ ìƒì„±ìì—ì„œ ì—¬ëŸ¬ ì˜ì¡´ê´€ê³„ë„ í•œë²ˆì— ì£¼ì…ë°›ì„ ìˆ˜ ìˆë‹¤.

```java
package com.smalldogg.springcoreinflearn.scan;

import static org.assertj.core.api.Assertions.assertThat;

import com.smalldogg.springcoreinflearn.AutoAppConfig;
import com.smalldogg.springcoreinflearn.member.MemberService;
import org.junit.jupiter.api.Test;
import org.springframework.context.annotation.AnnotationConfigApplicationContext;

public class AutoAppConfigTest {

  @Test
  void basicScan() {
    AnnotationConfigApplicationContext ac = new AnnotationConfigApplicationContext(
        AutoAppConfig.class);

    MemberService bean = ac.getBean(MemberService.class);
    assertThat(bean).isInstanceOf(MemberService.class);
  }
}
```

**@ComponentScan**

![Untitled](../img/ì»´í¬ë„ŒíŠ¸ìŠ¤ìº”/Untitled.png)

- @ComponentScanì€ @Componentê°€ ë¶™ì€ ëª¨ë“  í´ë˜ìŠ¤ë¥¼ ìŠ¤í”„ë§ ë¹ˆìœ¼ë¡œ ë“±ë¡í•œë‹¤.
- ì´ë•Œ ìŠ¤í”„ë§ ë¹ˆì˜ ê¸°ë³¸ ì´ë¦„ì€ í´ë˜ìŠ¤ëª…ì„ ì‚¬ìš©í•˜ë˜ ë§¨ ì•ê¸€ìë§Œ ì†Œë¬¸ìë¥¼ ì‚¬ìš©í•œë‹¤.
    - ë¹ˆ ì´ë¦„ ê¸°ë³¸ ì „ëµ: MemberServiceImpl í´ë˜ìŠ¤ â†’ memberServiceImpl
    - ë¹ˆ ì´ë¦„ ì§ì ‘ ì§€ì •: ë§Œì•½ ì´ë¦„ì„ ì§ì ‘ ì§€ì •í•˜ê³  ì‹¶ìœ¼ë©´ `@Component(â€memberservice2â€)` ì´ë¦„ì„ ë¶€ì—¬í•œë‹¤.

@Autowired

![Untitled](../img/ì»´í¬ë„ŒíŠ¸ìŠ¤ìº”/Untitled%201.png)

- ìƒì„±ìì— @Autowiredë¥¼ ì§€ì •í•˜ë©´, ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆê°€ ìë™ìœ¼ë¡œ í•´ë™ ìŠ¤í”„ë§ ë¹ˆì„ ì°¾ì•„ì„œ ì£¼ì…í•œë‹¤.
- ì´ë•Œ ê¸°ë³¸ ì¡°íšŒ ì „ëµì€ íƒ€ì…ì´ ê°™ì€ ë¹ˆì„ ì°¾ì•„ì„œ ì£¼ì…í•œë‹¤.
    - `getBean(MemberRepository.class)`ì™€ ë™ì¼í•˜ë‹¤ê³  ì´í•´í•˜ë©´ ëœë‹¤.
    - ë” ìì„¸í•œ ë‚´ìš©ì€ ë’¤ì—ì„œ ì„¤ëª…í•œë‹¤.

![Untitled](../img/ì»´í¬ë„ŒíŠ¸ìŠ¤ìº”/Untitled%202.png)

ìƒì„±ìì— íŒŒë¼ë¯¸í„°ê°€ ë§ì•„ë„ ë‹¤ ì°¾ì•„ì„œ ìë™ìœ¼ë¡œ ì£¼ì…í•œë‹¤.

---

## íƒìƒ‰ ìœ„ì¹˜ì™€ ê¸°ë³¸ ìŠ¤ìº” ëŒ€ìƒ

### íƒìƒ‰í•  íŒ¨í‚¤ì§€ì˜ ì‹œì‘ ìœ„ì¹˜ë¥¼ ì§€ì •

ëª¨ë“  ìë°” í´ë˜ìŠ¤ë¥¼ ë‹¤ ì»´í¬ë„ŒíŠ¸ ìŠ¤ìº”í•˜ë©´ ì‹œê°„ì´ ì˜¤ë˜ ê±¸ë¦°ë‹¤. ê·¸ë˜ì„œ ê¼­ í•„ìš”í•œ ìœ„ì¹˜ë¶€í„° íƒìƒ‰í•˜ë„ë¡ ì‹œì‘ ìœ„ì¹˜ë¥¼ ì§€ì •í•´ì•¼ í•œë‹¤.

```java
@ComponentScan(
    basePackages = "com.smalldogg.springcoreinflearn.member",
    excludeFilters = @ComponentScan.Filter(type = FilterType.ANNOTATION, classes = Configuration.class)
)
```

- `basePackages`: íƒìƒ‰í•  íŒ¨í‚¤ì§€ì˜ ì‹œì‘ ìœ„ì¹˜ë¥¼ ì§€ì •í•œë‹¤. ì´ íŒ¨í‚¤ì§€ë¥¼ í¬í•¨í•´ì„œ í•˜ìœ„ íŒ¨í‚¤ì§€ë¥¼ ëª¨ë‘ íƒìƒ‰í•œë‹¤.
    - `basePackages = {â€com.smalldogg.springcoreinflearnâ€, â€œcom.smalldogg.springcoreinflearn2â€}` ì´ë ‡ê²Œ ì—¬ëŸ¬ ì‹œì‘ ìœ„ì¹˜ë¥¼ ì§€ì •í•  ìˆ˜ë„ ìˆë‹¤.
- `basePackageClasses`: ì§€ì •í•œ í´ë˜ìŠ¤ì˜ íŒ¨í‚¤ì§€ë¥¼ íƒìƒ‰ ì‹œì‘ ìœ„ì¹˜ë¡œ ì§€ì •í•œë‹¤.
- ë§Œì•½ ì§€ì •í•˜ì§€ ì•Šìœ¼ë©´ `@ComponentScan` ì´ ë¶™ì€ ì„¤ì • ì •ë³´ í´ë˜ìŠ¤ì˜ íŒ¨í‚¤ì§€ê°€ ì‹œì‘ ìœ„ì¹˜ê°€ ëœë‹¤.

**ê¶Œì¥í•˜ëŠ” ë°©ë²•**

ê°œì¸ì ìœ¼ë¡œ ì¦ê²¨ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì€ íŒ¨í‚¤ì§€ ìœ„ì¹˜ë¥¼ ì§€ì •í•˜ì§€ ì•Šê³ , ì„¤ì • ì •ë³´ í´ë˜ìŠ¤ì˜ ìœ„ì¹˜ë¥¼ í”„ë¡œì íŠ¸ ìµœìƒë‹¨ì— ë‘ëŠ” ê²ƒì´ë‹¤. ìµœê·¼ ìŠ¤í”„ë§ ë¶€íŠ¸ë„ ì´ ë°©ë²•ì„ ê¸°ë³¸ìœ¼ë¡œ ì œê³µí•œë‹¤.

ì˜ˆë¥¼ ë“¤ì–´ì„œ í”„ë¡œì íŠ¸ê°€ ë‹¤ìŒê³¼ ê°™ì´ êµ¬ì¡°ê°€ ë˜ì–´ ìˆìœ¼ë©´

`com.hello
com.hello.serivce
com.hello.repository`
`com.hello` â†’ í”„ë¡œì íŠ¸ ì‹œì‘ ë£¨íŠ¸, ì—¬ê¸°ì— AppConfig ê°™ì€ ë©”ì¸ ì„¤ì • ì •ë³´ë¥¼ ë‘ê³ , @ComponentScan ì• ë…¸í…Œì´ì…˜ì„ ë¶™ì´ê³ , `basePackages` ì§€ì •ì€ ìƒëµí•œë‹¤.

ì´ë ‡ê²Œ í•˜ë©´ `com.hello` ë¥¼ í¬í•¨í•œ í•˜ìœ„ëŠ” ëª¨ë‘ ìë™ìœ¼ë¡œ ì»´í¬ë„ŒíŠ¸ ìŠ¤ìº”ì˜ ëŒ€ìƒì´ ëœë‹¤. ê·¸ë¦¬ê³  í”„ë¡œì íŠ¸ ë©”ì¸ ì„¤ì • ì •ë³´ëŠ” í”„ë¡œì íŠ¸ë¥¼ ëŒ€í‘œí•˜ëŠ” ì •ë³´ì´ê¸° ë•Œë¬¸ì— í”„ë¡œì íŠ¸ ì‹œì‘ ë£¨íŠ¸ ìœ„ì¹˜ì— ë‘ëŠ” ê²ƒì´ ì¢‹ë‹¤ ìƒê°í•œë‹¤.
ì°¸ê³ ë¡œ ìŠ¤í”„ë§ ë¶€íŠ¸ë¥¼ ì‚¬ìš©í•˜ë©´ ìŠ¤í”„ë§ ë¶€íŠ¸ì˜ ëŒ€í‘œ ì‹œì‘ ì •ë³´ì¸ `@SpringBootApplication` ë¥¼ ì´ í”„ë¡œì íŠ¸ ì‹œì‘ ë£¨íŠ¸ ìœ„ì¹˜ì— ë‘ëŠ” ê²ƒì´ ê´€ë¡€ì´ë‹¤. (ê·¸ë¦¬ê³  ì´ ì„¤ì •ì•ˆì— ë°”ë¡œ `@ComponentScan` ì´ ë“¤ì–´ìˆë‹¤!)

### ì»´í¬ë„ŒíŠ¸ ìŠ¤ìº” ê¸°ë³¸ ëŒ€ìƒ

ì»´í¬ë„ŒíŠ¸ ìŠ¤ìº”ì€ `@Component`ë¿ë§Œ ì•„ë‹ˆë¼ ë‹¤ìŒê³¼ ë‚´ìš©ë„ ì¶”ê°€ë¡œ ëŒ€ìƒì— í¬í•¨í•œë‹¤.

- `@Component`: ì»´í¬ë„ŒíŠ¸ ìŠ¤ìº”ì—ì„œ ì‚¬ìš©
- `@Controller`: ìŠ¤í”„ë§ MVC ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ ì‚¬ìš©
- `@Service`: ìŠ¤í”„ë§ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì—ì„œ ì‚¬ìš©
- `@Repository`: ìŠ¤í”„ë§ ë°ì´í„° ì ‘ê·¼ ê³„ì¸µì—ì„œ ì‚¬ìš©
- `@Configuration`: ìŠ¤í”„ë§ ì„¤ì • ì •ë³´ì—ì„œ ì‚¬ìš©

â†’ ìœ„ì— ê¸°ì¬ëœ ëŒ€ìƒë“¤ì€ ëª¨ë‘ `@Component`ë¥¼ í¬í•¨í•˜ê³  ìˆë‹¤.

> ğŸ’¡ ì‚¬ì‹¤ ì• ë…¸í…Œì´ì…˜ì—ëŠ” ìƒì†ê´€ê³„ë¼ëŠ” ê²ƒì´ ì—†ë‹¤. ê·¸ë˜ì„œ ì´ë ‡ê²Œ ì• ë…¸í…Œì´ì…˜ì´ íŠ¹ì • ì• ë…¸í…Œì´ì…˜ì„ ë“¤ê³  ìˆëŠ” ê²ƒì„ ì¸ì‹í•  ìˆ˜ ìˆëŠ” ê²ƒì€ ìë°” ì–¸ì–´ê°€ ì§€ì›í•˜ëŠ” ê¸°ëŠ¥ì´ ì•„ë‹ˆê³ , ìŠ¤í”„ë§ì´ ì§€ì›í•˜ëŠ” ê¸°ëŠ¥ì´ë‹¤.



ì»´í¬ë„ŒíŠ¸ ìŠ¤ìº”ì˜ ìš©ë„ ë¿ë§Œ ì•„ë‹ˆë¼ ë‹¤ìŒ ì• ë…¸í…Œì´ì…˜ì´ ìˆìœ¼ë©´ ìŠ¤í”„ë§ì€ ë¶€ê°€ ê¸°ëŠ¥ì„ ìˆ˜í–‰í•œë‹¤.

- `@Controller`: ìŠ¤í”„ë§ MVC ì»¨íŠ¸ë¡¤ëŸ¬ë¡œ ì¸ì‹
- `@Repository`: ìŠ¤í”„ë§ ë°ì´í„° ì ‘ê·¼ ê³„ì¸µìœ¼ë¡œ ì¸ì‹í•˜ê³ , ë°ì´í„° ê³„ì¸µì˜ ì˜ˆì™¸ë¥¼ ìŠ¤í”„ë§ ì˜ˆì™¸ë¡œ ë³€í™˜í•´ì¤€ë‹¤.
- `@Configuration`: ì•ì„œ ë³´ì•˜ë“¯ì´ ìŠ¤í”„ë§ ì„¤ì • ì •ë³´ë¡œ ì¸ì‹í•˜ê³ , ìŠ¤í”„ë§ ë¹ˆì´ ì‹±ê¸€í†¤ì„ ìœ ì§€í•˜ë„ë¡ ì¶”ê°€ ì²˜ë¦¬ë¥¼ í•œë‹¤.
- `@Service`: ì‚¬ì‹¤ @ServiceëŠ” íŠ¹ë³„í•œ ì²˜ë¦¬ë¥¼ í•˜ì§€ ì•ŠëŠ”ë‹¤. ëŒ€ì‹  ê°œë°œìë“¤ì´ í•µì‹¬ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì´ ì—¬ê¸°ì— ìˆê² êµ¬ë‚˜ ë¼ê³  ë¹„ì¦ˆë‹ˆìŠ¤ ê³„ì¸µì„ ì¸ì‹í•˜ëŠ”ë° ë„ì›€ì´ ëœë‹¤.

> ğŸ’¡ `useDefaultFilters` ì˜µì…˜ì€ ê¸°ë³¸ì ìœ¼ë¡œ ì¼œì ¸ìˆëŠ”ë°, ì´ ì˜µì…˜ì„ ë„ë©´ ê¸°ë³¸ ìŠ¤ìº” ëŒ€ìƒë“¤ì´ ì œì™¸ëœë‹¤. ê·¸ëƒ¥ ì´ëŸ° ì˜µì…˜ì´ ìˆêµ¬ë‚˜ ì •ë„ë¡œ ì•Œê³  ë„˜ì–´ê°€ì.



## í•„í„°

`includeFilters`: ì»´í¬ë„ŒíŠ¸ ìŠ¤ìº” ëŒ€ìƒì„ ì¶”ê°€ë¡œ ì§€ì •í•œë‹¤.

`excludeFilters`: ì»´í¬ë„ŒíŠ¸ ìŠ¤ìº” ëŒ€ìƒì„ ì œì™¸í•œë‹¤.

**MyExcludeComponent**

```java
package com.smalldogg.springcoreinflearn.scan.filter;

import java.lang.annotation.Documented;
import java.lang.annotation.ElementType;
import java.lang.annotation.Retention;
import java.lang.annotation.RetentionPolicy;
import java.lang.annotation.Target;

@Target(ElementType.TYPE)
@Retention(RetentionPolicy.RUNTIME)
@Documented
public @interface MyExcludeComponent {
  
}
```

**MyIncludeComponent**

```java
package com.smalldogg.springcoreinflearn.scan.filter;

import java.lang.annotation.Documented;
import java.lang.annotation.ElementType;
import java.lang.annotation.Retention;
import java.lang.annotation.RetentionPolicy;
import java.lang.annotation.Target;

@Target(ElementType.TYPE)
@Retention(RetentionPolicy.RUNTIME)
@Documented
public @interface MyIncludeComponent {

}
```

ExcludeFilters ë° IncludeFilters í…ŒìŠ¤íŠ¸

```java
package com.smalldogg.springcoreinflearn.scan.filter;

import static org.assertj.core.api.Assertions.assertThat;
import static org.junit.jupiter.api.Assertions.assertThrows;
import static org.springframework.context.annotation.ComponentScan.Filter;
import static org.springframework.context.annotation.FilterType.ANNOTATION;

import org.junit.jupiter.api.Test;
import org.springframework.beans.factory.NoSuchBeanDefinitionException;
import org.springframework.context.ApplicationContext;
import org.springframework.context.annotation.AnnotationConfigApplicationContext;
import org.springframework.context.annotation.ComponentScan;
import org.springframework.context.annotation.Configuration;

public class ComponentFilterAppConfigTest {

  @Test
  void filterScan() {
    ApplicationContext ac = new AnnotationConfigApplicationContext(ComponentFilterAppConfig.class);
    BeanA beanA = ac.getBean("beanA", BeanA.class);
    assertThat(beanA).isNotNull();

    assertThrows(NoSuchBeanDefinitionException.class, () -> ac.getBean("beanB", BeanB.class));
  }

  @Configuration
  @ComponentScan(includeFilters = @Filter(type = ANNOTATION, classes = MyIncludeComponent.class),
      excludeFilters = @Filter(type = ANNOTATION, classes = MyExcludeComponent.class))
  static class ComponentFilterAppConfig {

  }

}
```

### FilterType ì˜µì…˜

FilterTypeì€ 5ê°€ì§€ ì˜µì…˜ì´ ìˆë‹¤.

- ANNOTATION: ê¸°ë³¸ê°’, ì• ë…¸í…Œì´ì…˜ì„ ì¸ì‹í•´ì„œ ë™ì‘í•œë‹¤.(ìƒëµê°€ëŠ¥)
- ASSIGNABLE_TYPE: ì§€ì •í•œ íƒ€ì…ê³¼ ìì‹ íƒ€ì…ì„ ì¸ì‹í•´ì„œ ë™ì‘í•œë‹¤.
    - `org.example.SomeClass`
- ASPECTJ: AspectJ íŒ¨í„´ ì‚¬ìš©
    - `org.example..*Service+`
- REGEX
    - `org\.example\.Default.*`
- CUSTOM: TypeFilterë¼ëŠ” ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•´ì„œ ì²˜ë¦¬
    - `org.example.MyTypeFilter`


> ğŸ’¡ `@Component`ë©´ ì¶©ë¶„í•˜ê¸° ë•Œë¬¸ì—, includeFiltersë¥¼ ì‚¬ìš©í•  ì¼ì€ ê±°ì˜ ì—†ë‹¤. excludeFiltersëŠ” ì—¬ëŸ¬ê°€ì§€ ì´ìœ ë¡œ ê°„í˜¹ ì‚¬ìš©í•  ë•Œê°€ ìˆì§€ë§Œ ë§ì§€ëŠ” ì•Šë‹¤.
íŠ¹íˆ ìµœê·¼ ìŠ¤í”„ë§ ë¶€íŠ¸ëŠ” ì»´í¬ë„ŒíŠ¸ ìŠ¤ìº”ì„ ê¸°ë³¸ì ìœ¼ë¡œ ì œê³µí•˜ëŠ”ë°, ê°œì¸ì ìœ¼ë¡œëŠ” ì˜µì…˜ì„ ë³€ê²½í•˜ë©´ì„œ ì‚¬ìš©í•˜ê¸° ë³´ë‹¤ëŠ” ìŠ¤í”„ë§ì˜ ê¸°ë³¸ ì„¤ì •ì— ìµœëŒ€í•œ ë§ì¶”ì–´ ì‚¬ìš©í•˜ëŠ” ê²ƒì„ ê¶Œì¥í•˜ê³ , ì„ í˜¸í•˜ëŠ” í¸ì´ë‹¤.



---

## ì¤‘ë³µ ë“±ë¡ê³¼ ì¶©ëŒ

ì»´í¬ë„ŒíŠ¸ ìŠ¤ìº”ì—ì„œ ê°™ì€ ë¹ˆ ì´ë¦„ì„ ë“±ë¡í•˜ë©´ ì–´ë–»ê²Œ ë ê¹Œ?

1. ìë™ ë¹ˆ ë“±ë¡ vs ìë™ ë¹ˆ ë“±ë¡
2. ìˆ˜ë™ ë¹ˆ ë“±ë¡ vs ìë™ ë¹ˆ ë“±ë¡

### ìë™ ë¹ˆ ë“±ë¡ vs ìë™ ë¹ˆ ë“±ë¡

- ì»´í¬ë„ŒíŠ¸ ìŠ¤ìº”ì— ì˜í•´ ìë™ìœ¼ë¡œ ìŠ¤í”„ë§ ë¹ˆì´ ë“±ë¡ë˜ëŠ”ë°, ê·¸ ì´ë¦„ì´ ê°™ì€ ê²½ìš° ìŠ¤í”„ë§ì€ ì˜¤ë¥˜ë¥¼ ë°œìƒí•œë‹¤.
    - `ConflictingBeanDefinitionException` ì˜ˆì™¸ ë°œìƒ

### ìˆ˜ë™ ë¹ˆ ë“±ë¡ vs ìë™ ë¹ˆ ë“±ë¡

```java
@Component
public class MemoryMemberRepository implements MemberRepository {
...
}
```

```java
@Configuration
@ComponentScan(
    basePackages = "com.smalldogg.springcoreinflearn.member",
    excludeFilters = @ComponentScan.Filter(type = FilterType.ANNOTATION, classes = Configuration.class)
)
public class AutoAppConfig {

  @Bean(name="memoryMemberRepository")
  MemberRepository memberRepository() {
    return new MemoryMemberRepository();
  }
}
```

ì´ ê²½ìš° ìˆ˜ë™ ë¹ˆ ë“±ë¡ì´ ìš°ì„ ê¶Œì„ ê°€ì§„ë‹¤.

(ìˆ˜ë™ ë¹ˆì´ ìë™ ë¹ˆì„ ì˜¤ë²„ë¼ì´ë”© í•´ë²„ë¦°ë‹¤.)

**ìˆ˜ë™ ë¹ˆê³¼ ìë™ë¹ˆ ë“±ë¡ì´ í•¨ê»˜ì¼ ë•Œ ë°œìƒí•˜ëŠ” ë¡œê·¸**

```
Overriding bean definition for bean 'memoryMemberRepository' with a different definition: replacing [Generic bean: class [com.smalldogg.springcoreinflearn.member.MemoryMemberRepository];
```

ì‚¬ì‹¤ ìœ„ì˜ ê²°ê³¼ëŠ” ì—¬ëŸ¬ ì„¤ì •ë“¤ì´ ê¼¬ì—¬ì„œ ë‚˜íƒ€ë‚˜ëŠ” ê²½ìš°ê°€ ëŒ€ë¶€ë¶„ì´ë‹¤.

ìµœê·¼ ìŠ¤í”„ë§ ë¶€íŠ¸ëŠ” ìœ„ì™€ ê°™ì€ ê²½ìš° ì˜¤ë¥˜ë¥¼ ë°œìƒí•˜ë©° íŒ…ê²¨ë‚´ë„ë¡ `spring.main.allow-bean-definition-overriding` í”„ë¡œí¼í‹°ê°€ `false`ë¡œ ë³€ê²½ë˜ì—ˆë‹¤.

```
The bean 'memoryMemberRepository', defined in class path resource 
[com/smalldogg/springcoreinflearn/AutoAppConfig.class],
could not be registered. A bean with that name has already been defined in file 
[C:\Users\sypark\Documents\IdeaProject\spring-core-inflearn-2\out\production\classes\com\smalldogg\springcoreinflearn\member\MemoryMemberRepository.class]
 and overriding is disabled.

Action:

Consider renaming one of the beans or enabling overriding by setting spring.main.allow-bean-definition-overriding=true
```